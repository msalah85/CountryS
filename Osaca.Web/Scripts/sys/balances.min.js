var pageManager=function(){"use strict";var n=function(){i();$("#printMe").click(function(n){n.preventDefault();window.print()})},t=function(n){var e=$.parseXML(n.d),t=$.xml2json(e).list;if(t){$.each(t,function(n,t){$("#"+n).text(numeral(t).format("0,0.00"))});var i={totalBillAmount:parseFloat(t.TotalInvoices),totalPayments:parseFloat(t.TotalPayments),transFees:parseFloat(t.TransFees),transPayments:parseFloat(t.TransPayments),totalOutgoings:parseFloat(t.Outgoings),companyProfit:parseFloat(t.Profit)},r=i.totalBillAmount-i.totalPayments,u=i.transFees-i.transPayments,f=i.companyProfit-i.totalOutgoings;$("#TotalBalances").text(function(){return r>0&&$(this).removeClass("red").addClass("green"),numeral(r).format("0,0.00")});$("#TransTotalFees").text(function(){return u<0&&$(this).removeClass("red").addClass("green"),numeral(u).format("0,0.00")});$("#NetProfit").text(function(){return f<0&&$(this).closest("tr").removeClass("success").addClass("danger").attr("title","Please check your total profit and outgoings amounts"),numeral(f).format("0,0.00")});$("#AddDate").text(function(){return commonManger.formatJSONDateCal(new Date,"dd-MM-yyyy")})}},i=function(){dataService.callAjax("Post",JSON.stringify({actionName:"Balances_Select"}),sUrl+"GetDataDirect",t,commonManger.errorException)},r=function(){var n=0;$("#listItems tbody tr").each(function(){n+=numeral($(this).children("td:eq(2)").text())*1});n>0?$("#SaveAll").removeClass("hidden"):$("#SaveAll").addClass("hidden");$("#AmountDhs").val(numeral(n).format("0,0"));n=numeral(n).format("0,0.0");$("#TotalAmountDhs").text(n)};return{Init:n}}();