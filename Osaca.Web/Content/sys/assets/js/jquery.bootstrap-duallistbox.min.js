(function(n,t,i,r){function c(t,i){this.element=n(t);this.settings=n.extend({},l,i);this._defaults=l;this._name=e;this.init()}function o(n){n.element.trigger("change")}function v(t){t.element.find("option").each(function(i,r){var u=n(r);typeof u.data("original-index")=="undefined"&&u.data("original-index",t.elementCount++);typeof u.data("_selected")=="undefined"&&u.data("_selected",!1)})}function y(t,i,r){t.element.find("option").each(function(t,u){var f=n(u);f.data("original-index")===i&&f.prop("selected",r)})}function s(n,t){return n.replace(/\{(\d+)\}/g,function(n,i){return typeof t[i]!="undefined"?t[i]:n})}function p(n){if(n.settings.infoText){var r=n.elements.select1.find("option").length,u=n.elements.select2.find("option").length,t=n.element.find("option").length-n.selectedElements,i=n.selectedElements,f="";f=t===0?n.settings.infoTextEmpty:r===t?s(n.settings.infoText,[r,t]):s(n.settings.infoTextFiltered,[r,t]);n.elements.info1.html(f);n.elements.box1.toggleClass("filtered",!(r===t||t===0));f=i===0?n.settings.infoTextEmpty:u===i?s(n.settings.infoText,[u,i]):s(n.settings.infoTextFiltered,[u,i]);n.elements.info2.html(f);n.elements.box2.toggleClass("filtered",!(u===i||i===0))}}function u(t){t.selectedElements=0;t.elements.select1.empty();t.elements.select2.empty();t.element.find("option").each(function(i,r){var u=n(r);u.prop("selected")?(t.selectedElements++,t.elements.select2.append(u.clone(!0).prop("selected",u.data("_selected")))):t.elements.select1.append(u.clone(!0).prop("selected",u.data("_selected")))});t.settings.showFilterInputs&&(h(t,1),h(t,2));p(t)}function h(t,i){if(t.settings.showFilterInputs){f(t,i);t.elements["select"+i].empty().scrollTop(0);var u=new RegExp(n.trim(t.elements["filterInput"+i].val()),"gi"),e=t.element.find("option"),r=t.element;r=i===1?e.not(":selected"):r.find("option:selected");r.each(function(r,f){var o=n(f),s=!0;(f.text.match(u)||t.settings.filterOnValues&&o.attr("value").match(u))&&(s=!1,t.elements["select"+i].append(o.clone(!0).prop("selected",o.data("_selected"))));e.eq(o.data("original-index")).data("filtered"+i,s)});p(t)}}function f(t,i){var r=t.element.find("option");t.elements["select"+i].find("option").each(function(t,i){var u=n(i);r.eq(u.data("original-index")).data("_selected",u.prop("selected"))})}function w(t){t.find("option").sort(function(t,i){return n(t).data("original-index")>n(i).data("original-index")?1:-1}).appendTo(t)}function d(n){n.elements.select1.find("option").each(function(){n.element.find("option").data("_selected",!1)})}function b(t){t.settings.preserveSelectionOnMove!=="all"||t.settings.moveOnSelect?t.settings.preserveSelectionOnMove!=="moved"||t.settings.moveOnSelect||f(t,1):(f(t,1),f(t,2));t.elements.select1.find("option:selected").each(function(i,r){var u=n(r);u.data("filtered1")||y(t,u.data("original-index"),!0)});u(t);o(t);w(t.elements.select2)}function k(t){t.settings.preserveSelectionOnMove!=="all"||t.settings.moveOnSelect?t.settings.preserveSelectionOnMove!=="moved"||t.settings.moveOnSelect||f(t,2):(f(t,1),f(t,2));t.elements.select2.find("option:selected").each(function(i,r){var u=n(r);u.data("filtered2")||y(t,u.data("original-index"),!1)});u(t);o(t);w(t.elements.select1)}function g(t){t.settings.preserveSelectionOnMove!=="all"||t.settings.moveOnSelect?t.settings.preserveSelectionOnMove!=="moved"||t.settings.moveOnSelect||f(t,1):(f(t,1),f(t,2));t.element.find("option").each(function(t,i){var r=n(i);r.data("filtered1")||r.prop("selected",!0)});u(t);o(t)}function nt(t){t.settings.preserveSelectionOnMove!=="all"||t.settings.moveOnSelect?t.settings.preserveSelectionOnMove!=="moved"||t.settings.moveOnSelect||f(t,2):(f(t,1),f(t,2));t.element.find("option").each(function(t,i){var r=n(i);r.data("filtered2")||r.prop("selected",!1)});u(t);o(t)}function tt(n){n.elements.form.submit(function(t){n.elements.filterInput1.is(":focus")?(t.preventDefault(),n.elements.filterInput1.focusout()):n.elements.filterInput2.is(":focus")&&(t.preventDefault(),n.elements.filterInput2.focusout())});n.element.on("bootstrapDualListbox.refresh",function(t,i){n.refresh(i)});n.elements.filterClear1.on("click",function(){n.setNonSelectedFilter("",!0)});n.elements.filterClear2.on("click",function(){n.setSelectedFilter("",!0)});n.elements.moveButton.on("click",function(){b(n)});n.elements.moveAllButton.on("click",function(){g(n)});n.elements.removeButton.on("click",function(){k(n)});n.elements.removeAllButton.on("click",function(){nt(n)});n.elements.filterInput1.on("change keyup",function(){h(n,1)});n.elements.filterInput2.on("change keyup",function(){h(n,2)})}var e="bootstrapDualListbox",l={bootstrap2Compatible:!1,filterTextClear:"show all",filterPlaceHolder:"Filter",moveSelectedLabel:"Move selected",moveAllLabel:"Move all",removeSelectedLabel:"Remove selected",removeAllLabel:"Remove all",moveOnSelect:!0,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:"_helper",selectorMinimalHeight:100,showFilterInputs:!0,nonSelectedFilter:"",selectedFilter:"",infoText:"Showing all {0}",infoTextFiltered:'<span class="label label-warning">Filtered<\/span> {0} from {1}',infoTextEmpty:"Empty list",filterOnValues:!1,buttonClass:"btn-white btn-bold"},a=/android/i.test(navigator.userAgent.toLowerCase());c.prototype={init:function(){this.container=n('<div class="bootstrap-duallistbox-container"> <div class="box1">   <label><\/label>   <span class="info-container">     <span class="info"><\/span>     <button type="button" class="btn clear1 pull-right"><\/button>   <\/span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn moveall">       <i><\/i>       <i><\/i>     <\/button>     <button type="button" class="btn move">       <i><\/i>     <\/button>   <\/div>   <select multiple="multiple"><\/select> <\/div> <div class="box2">   <label><\/label>   <span class="info-container">     <span class="info"><\/span>     <button type="button" class="btn clear2 pull-right"><\/button>   <\/span>   <input class="filter" type="text">   <div class="btn-group buttons">     <button type="button" class="btn remove">       <i><\/i>     <\/button>     <button type="button" class="btn removeall">       <i><\/i>       <i><\/i>     <\/button>   <\/div>   <select multiple="multiple"><\/select> <\/div><\/div>').insertBefore(this.element);this.elements={originalSelect:this.element,box1:n(".box1",this.container),box2:n(".box2",this.container),filterInput1:n(".box1 .filter",this.container),filterInput2:n(".box2 .filter",this.container),filterClear1:n(".box1 .clear1",this.container),filterClear2:n(".box2 .clear2",this.container),label1:n(".box1 > label",this.container),label2:n(".box2 > label",this.container),info1:n(".box1 .info",this.container),info2:n(".box2 .info",this.container),select1:n(".box1 select",this.container),select2:n(".box2 select",this.container),moveButton:n(".box1 .move",this.container),removeButton:n(".box2 .remove",this.container),moveAllButton:n(".box1 .moveall",this.container),removeAllButton:n(".box2 .removeall",this.container),form:n(n(".box1 .filter",this.container)[0].form)};this.originalSelectName=this.element.attr("name")||"";var t="bootstrap-duallistbox-nonselected-list_"+this.originalSelectName,i="bootstrap-duallistbox-selected-list_"+this.originalSelectName;return this.elements.select1.attr("id",t),this.elements.select2.attr("id",i),this.elements.label1.attr("for",t),this.elements.label2.attr("for",i),this.selectedElements=0,this.elementCount=0,this.setBootstrap2Compatible(this.settings.bootstrap2Compatible),this.setFilterTextClear(this.settings.filterTextClear),this.setFilterPlaceHolder(this.settings.filterPlaceHolder),this.setMoveSelectedLabel(this.settings.moveSelectedLabel),this.setMoveAllLabel(this.settings.moveAllLabel),this.setRemoveSelectedLabel(this.settings.removeSelectedLabel),this.setRemoveAllLabel(this.settings.removeAllLabel),this.setMoveOnSelect(this.settings.moveOnSelect),this.setPreserveSelectionOnMove(this.settings.preserveSelectionOnMove),this.setSelectedListLabel(this.settings.selectedListLabel),this.setNonSelectedListLabel(this.settings.nonSelectedListLabel),this.setHelperSelectNamePostfix(this.settings.helperSelectNamePostfix),this.setSelectOrMinimalHeight(this.settings.selectorMinimalHeight),v(this),this.setShowFilterInputs(this.settings.showFilterInputs),this.setNonSelectedFilter(this.settings.nonSelectedFilter),this.setSelectedFilter(this.settings.selectedFilter),this.setInfoText(this.settings.infoText),this.setInfoTextFiltered(this.settings.infoTextFiltered),this.setInfoTextEmpty(this.settings.infoTextEmpty),this.setFilterOnValues(this.settings.filterOnValues),this.element.hide(),tt(this),u(this),this.element},setBootstrap2Compatible:function(n,t){return this.settings.bootstrap2Compatible=n,n?(this.container.removeClass("row").addClass("row-fluid bs2compatible"),this.container.find(".box1, .box2").removeClass("col-md-6").addClass("span6"),this.container.find(".clear1, .clear2").removeClass("btn-default btn-xs").addClass("btn-mini"),this.container.find("input, select").removeClass("form-control"),this.container.find(".btn").removeClass("btn-default"),this.container.find(".moveall > i, .move > i").removeClass("fa fa-arrow-right").addClass("icon-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("fa fa-arrow-left").addClass("icon-arrow-left")):(this.container.removeClass("row-fluid bs2compatible").addClass("row"),this.container.find(".box1, .box2").removeClass("span6").addClass("col-md-6"),this.container.find(".clear1, .clear2").removeClass("btn-mini").addClass("btn-default btn-xs"),this.container.find("input, select").addClass("form-control"),this.container.find(".btn").addClass(this.settings.buttonClass),this.container.find(".moveall > i, .move > i").removeClass("icon-arrow-right").addClass("fa fa-arrow-right"),this.container.find(".removeall > i, .remove > i").removeClass("icon-arrow-left").addClass("fa fa-arrow-left")),t&&u(this),this.element},setFilterTextClear:function(n,t){return this.settings.filterTextClear=n,this.elements.filterClear1.html(n),this.elements.filterClear2.html(n),t&&u(this),this.element},setFilterPlaceHolder:function(n,t){return this.settings.filterPlaceHolder=n,this.elements.filterInput1.attr("placeholder",n),this.elements.filterInput2.attr("placeholder",n),t&&u(this),this.element},setMoveSelectedLabel:function(n,t){return this.settings.moveSelectedLabel=n,this.elements.moveButton.attr("title",n),t&&u(this),this.element},setMoveAllLabel:function(n,t){return this.settings.moveAllLabel=n,this.elements.moveAllButton.attr("title",n),t&&u(this),this.element},setRemoveSelectedLabel:function(n,t){return this.settings.removeSelectedLabel=n,this.elements.removeButton.attr("title",n),t&&u(this),this.element},setRemoveAllLabel:function(n,t){return this.settings.removeAllLabel=n,this.elements.removeAllButton.attr("title",n),t&&u(this),this.element},setMoveOnSelect:function(n,t){if(a&&(n=!0),this.settings.moveOnSelect=n,this.settings.moveOnSelect){this.container.addClass("moveonselect");var i=this;this.elements.select1.on("change",function(){b(i)});this.elements.select2.on("change",function(){k(i)})}else this.container.removeClass("moveonselect"),this.elements.select1.off("change"),this.elements.select2.off("change");return t&&u(this),this.element},setPreserveSelectionOnMove:function(n,t){return a&&(n=!1),this.settings.preserveSelectionOnMove=n,t&&u(this),this.element},setSelectedListLabel:function(n,t){return this.settings.selectedListLabel=n,n?this.elements.label2.show().html(n):this.elements.label2.hide().html(n),t&&u(this),this.element},setNonSelectedListLabel:function(n,t){return this.settings.nonSelectedListLabel=n,n?this.elements.label1.show().html(n):this.elements.label1.hide().html(n),t&&u(this),this.element},setHelperSelectNamePostfix:function(n,t){return this.settings.helperSelectNamePostfix=n,n?(this.elements.select1.attr("name",this.originalSelectName+n+"1"),this.elements.select2.attr("name",this.originalSelectName+n+"2")):(this.elements.select1.removeAttr("name"),this.elements.select2.removeAttr("name")),t&&u(this),this.element},setSelectOrMinimalHeight:function(n,t){this.settings.selectorMinimalHeight=n;var i=this.element.height();return this.element.height()<n&&(i=n),this.elements.select1.height(i),this.elements.select2.height(i),t&&u(this),this.element},setShowFilterInputs:function(n,t){return n?(this.elements.filterInput1.show(),this.elements.filterInput2.show()):(this.setNonSelectedFilter(""),this.setSelectedFilter(""),u(this),this.elements.filterInput1.hide(),this.elements.filterInput2.hide()),this.settings.showFilterInputs=n,t&&u(this),this.element},setNonSelectedFilter:function(n,t){if(this.settings.showFilterInputs)return this.settings.nonSelectedFilter=n,this.elements.filterInput1.val(n),t&&u(this),this.element},setSelectedFilter:function(n,t){if(this.settings.showFilterInputs)return this.settings.selectedFilter=n,this.elements.filterInput2.val(n),t&&u(this),this.element},setInfoText:function(n,t){return this.settings.infoText=n,t&&u(this),this.element},setInfoTextFiltered:function(n,t){return this.settings.infoTextFiltered=n,t&&u(this),this.element},setInfoTextEmpty:function(n,t){return this.settings.infoTextEmpty=n,t&&u(this),this.element},setFilterOnValues:function(n,t){return this.settings.filterOnValues=n,t&&u(this),this.element},getContainer:function(){return this.container},refresh:function(n){v(this);n?d(this):(f(this,1),f(this,2));u(this)},destroy:function(){return this.container.remove(),this.element.show(),n.data(this,"plugin_"+e,null),this.element}};n.fn[e]=function(t){var u=arguments,i;return t===r||typeof t=="object"?this.each(function(){n(this).is("select")?n.data(this,"plugin_"+e)||n.data(this,"plugin_"+e,new c(this,t)):n(this).find("select").each(function(i,r){n(r).bootstrapDualListbox(t)})}):typeof t=="string"&&t[0]!=="_"&&t!=="init"?(this.each(function(){var r=n.data(this,"plugin_"+e);r instanceof c&&typeof r[t]=="function"&&(i=r[t].apply(r,Array.prototype.slice.call(u,1)))}),i!==r?i:this):void 0}})(jQuery,window,document);
//# sourceMappingURL=jquery.bootstrap-duallistbox.min.js.map
