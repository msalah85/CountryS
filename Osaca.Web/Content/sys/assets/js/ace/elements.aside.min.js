(function(n,t){function r(t,r){var s=this,u=n(t),f="right",o=!1,c=u.hasClass("fade"),a=ace.helper.getAttrSettings(t,n.fn.ace_aside.defaults),l;if(this.settings=n.extend({},n.fn.ace_aside.defaults,r,a),!this.settings.background||r.scroll_style||a.scroll_style||(this.settings.scroll_style="scroll-white no-track"),this.container=this.settings.container,this.container)try{n(this.container).get(0)==document.body&&(this.container=null)}catch(y){}this.container&&(this.settings.backdrop=!1,u.addClass("aside-contained"));var h=u.find(".modal-dialog"),e=u.find(".modal-content"),v=300;this.initiate=function(){if(t.className=t.className.replace(/(\s|^)aside\-(right|top|left|bottom)(\s|$)/ig,"$1$3"),f=this.settings.placement,f&&(f=n.trim(f.toLowerCase())),f&&/right|top|left|bottom/.test(f)||(f="right"),u.attr("data-placement",f),u.addClass("aside-"+f),/right|left/.test(f)?(o=!0,u.addClass("aside-vc")):u.addClass("aside-hz"),this.settings.fixed&&u.addClass("aside-fixed"),this.settings.background&&u.addClass("aside-dark"),this.settings.offset&&u.addClass("navbar-offset"),this.settings.transition||u.addClass("transition-off"),u.addClass("aside-hidden"),this.insideContainer(),h=u.find(".modal-dialog"),e=u.find(".modal-content"),!this.settings.body_scroll)u.on("mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside",function(t){if(!n.contains(e[0],t.target))return t.preventDefault(),!1});this.settings.backdrop==!1&&u.addClass("no-backdrop")};this.show=function(){if(this.settings.backdrop==!1)try{u.data("bs.modal").$backdrop.remove()}catch(t){}this.container?n(this.container).addClass("overflow-hidden"):u.css("position","fixed");u.removeClass("aside-hidden")};this.hide=function(){this.container&&(this.container.addClass("overflow-hidden"),ace.vars.firefox&&t.offsetHeight);l();ace.vars.transition&&!c&&u.one("bsTransitionEnd",function(){u.addClass("aside-hidden");u.css("position","");s.container&&s.container.removeClass("overflow-hidden")}).emulateTransitionEnd(v)};this.shown=function(){if(l(),n("body").removeClass("modal-open").css("padding-right",""),this.settings.backdrop=="invisible")try{u.data("bs.modal").$backdrop.css("opacity",0)}catch(r){}var t=o?e.height():h.height();ace.vars.touch?e.addClass("overflow-scroll").css("max-height",t+"px"):e.hasClass("ace-scroll")||e.ace_scroll({size:t,reset:!0,mouseWheelLock:!0,lockAnyway:!this.settings.body_scroll,styleClass:this.settings.scroll_style,observeContent:!0,hideOnIdle:!ace.vars.old_ie,hideDelay:1500});i.off("resize.modal.aside").on("resize.modal.aside",function(){if(ace.vars.touch)e.css("max-height",(o?e.height():h.height())+"px");else{e.ace_scroll("disable");var n=o?e.height():h.height();e.ace_scroll("update",{size:n}).ace_scroll("enable").ace_scroll("reset")}}).triggerHandler("resize.modal.aside");s.container&&ace.vars.transition&&!c&&u.one("bsTransitionEnd",function(){s.container.removeClass("overflow-hidden")}).emulateTransitionEnd(v)};this.hidden=function(){i.off(".aside");(!ace.vars.transition||c)&&(u.addClass("aside-hidden"),u.css("position",""))};this.insideContainer=function(){var t=n(".main-container"),e=u.find(".modal-dialog"),r;e.css({right:"",left:""});t.hasClass("container")&&(r=!1,o==!0&&(e.css(f,parseInt((i.width()-t.width())/2)),r=!0),r&&ace.vars.firefox&&ace.helper.redraw(t[0]))};this.flip=function(){var n={right:"left",left:"right",top:"bottom",bottom:"top"};u.removeClass("aside-"+f).addClass("aside-"+n[f]);f=n[f]};l=function(){var t=u.find(".aside-trigger"),n;t.length!=0&&(t.toggleClass("open"),n=t.find(ace.vars[".icon"]),n.length!=0)&&n.toggleClass(n.attr("data-icon1")+" "+n.attr("data-icon2"))};this.initiate();this.container&&(this.container=n(this.container));u.appendTo(this.container||"body")}var i=n(window);n(document).on("show.bs.modal",".modal.aside",function(){n(".aside.in").modal("hide");n(this).ace_aside("show")}).on("hide.bs.modal",".modal.aside",function(){n(this).ace_aside("hide")}).on("shown.bs.modal",".modal.aside",function(){n(this).ace_aside("shown")}).on("hidden.bs.modal",".modal.aside",function(){n(this).ace_aside("hidden")});n(window).on("resize.aside_container",function(){n(".modal.aside").ace_aside("insideContainer")});n(document).on("settings.ace.aside",function(t,i){i=="main_container_fixed"&&n(".modal.aside").ace_aside("insideContainer")});n.fn.aceAside=n.fn.ace_aside=function(i,u){var f,e=this.each(function(){var e=n(this),t=e.data("ace_aside"),o=typeof i=="object"&&i;t||e.data("ace_aside",t=new r(this,o));typeof i=="string"&&typeof t[i]=="function"&&(f=u instanceof Array?t[i].apply(t,u):t[i](u))});return f===t?e:f};n.fn.ace_aside.defaults={fixed:!1,background:!1,offset:!1,body_scroll:!1,transition:!0,scroll_style:"scroll-dark no-track",container:null,backdrop:!1,placement:"right"}})(window.jQuery);