(function(n,t){function i(t,i){var l=ace.helper.getAttrSettings(t,n.fn.ace_spinner.defaults),r=n.extend({},n.fn.ace_spinner.defaults,i,l),h=r.max,f,c;h=(""+h).length;var o=parseInt(Math.max(h*20+40,90)),u=n(t),e="btn-sm",s=2;u.hasClass("input-sm")?(e="btn-xs",s=1):u.hasClass("input-lg")&&(e="btn-lg",s=3);s==2?o+=25:s==3&&(o+=50);u.addClass("spinbox-input form-control text-center").wrap('<div class="ace-spinner middle">');f=u.closest(".ace-spinner").spinbox(r).wrapInner("<div class='input-group'><\/div>");c=f.data("fu.spinbox");r.on_sides?(u.before('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-down '+e+" "+r.btn_down_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+r.icon_down+'"><\/i>\t\t\t\t\t<\/button>\t\t\t\t<\/div>').after('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-up '+e+" "+r.btn_up_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+r.icon_up+'"><\/i>\t\t\t\t\t<\/button>\t\t\t\t<\/div>'),f.addClass("touch-spinner"),f.css("width",o+"px")):(u.after('<div class="spinbox-buttons input-group-btn">\t\t\t\t\t<button type="button" class="btn spinbox-up '+e+" "+r.btn_up_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+r.icon_up+'"><\/i>\t\t\t\t\t<\/button>\t\t\t\t\t<button type="button" class="btn spinbox-down '+e+" "+r.btn_down_class+'">\t\t\t\t\t\t<i class="icon-only '+ace.vars.icon+r.icon_down+'"><\/i>\t\t\t\t\t<\/button>\t\t\t\t<\/div>'),ace.vars.touch||r.touch_spinner?(f.addClass("touch-spinner"),f.css("width",o+"px")):(u.next().addClass("btn-group-vertical"),f.css("width",o+"px")));f.on("changed",function(){u.trigger("change")});this._call=function(n,t){c[n](t)}}n.fn.ace_spinner=function(r,u){var f,e=this.each(function(){var e=n(this),t=e.data("ace_spinner"),o=typeof r=="object"&&r;t||(o=n.extend({},n.fn.ace_spinner.defaults,r),e.data("ace_spinner",t=new i(this,o)));typeof r=="string"&&(f=t._call(r,u))});return f===t?e:f};n.fn.ace_spinner.defaults={icon_up:"fa fa-chevron-up",icon_down:"fa fa-chevron-down",on_sides:!1,btn_up_class:"",btn_down_class:"",max:999,touch_spinner:!1}})(window.jQuery);