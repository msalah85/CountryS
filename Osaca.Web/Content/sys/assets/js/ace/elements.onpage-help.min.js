window.Onpage_Help=function(n){function it(){var n;if(h){rt();d=document.body.scrollHeight-2;g=document.body.scrollWidth-2;for(n in e)e.hasOwnProperty(n)&&ht(n);for(n in e)e.hasOwnProperty(n)&&ct(n)}}function rt(n){if(n===!0||p==0){n===!0&&o.find(".onpage-help-section").remove();e={};a={};p=0;var i=t("*").contents().filter(function(){return this.nodeType==8});t(i).each(function(){var i,n;(i=t.trim(this.data).match(/#section\s*:\s*([\w\d\-\.\/]+)/i))&&(n=i[1],n in e||(e[n]=this));(i=t.trim(this.data).match(/\/section\s*:\s*([\w\d\-\.\/]+)/i))&&(n=i[1],!(n in a)&&n in e&&(a[n]=this,p++))})}}function ht(n){var c,l,y;if(n in e&&n in a){for(var r=1e6,u=1e6,s=-1e6,h=-1e6,p=!1,f=[],o=e[n],w=a[n];o!=w;)if(o=o.nextSibling,o==null)break;else o.nodeType==1&&f.push(o);if(c=f.length,c>0&&!i.settings.include_all&&(f=c==1?[f[0]]:[f[0],f[c-1]]),t(f).each(function(){var i=t(this);if(!i.is(":hidden")){var n=i.offset(),f=i.outerWidth(),e=i.outerHeight();n&&f&&e&&(p=!0,n.left<r&&(r=n.left),n.left+f>s&&(s=n.left+f),n.top<u&&(u=n.top),n.top+e>h&&(h=n.top+e))}}),!p){v[n]={is_hidden:!0};return}if(r-=1,u-=1,s+=1,h+=1,l=s-r,y=h-u,r+l<2||r>g||u+y<2||u>d){v[n]={is_hidden:!0};return}v[n]={left:parseInt(r),top:parseInt(u),width:parseInt(l),height:parseInt(y)}}}function ct(n){var r,u;if(n in v&&o){if(r=o.find('.onpage-help-section[data-section="'+n+'"]').eq(0),r.length==0){r=t('<a class="onpage-help-section" href="#" />').appendTo(o);st&&r.append('<span class="ie-hover-fix" />');i.settings.icon_1&&r.append('<i class="help-icon-1 '+i.settings.icon_1+'"><\/i>');i.settings.icon_2&&r.append('<i class="help-icon-2 '+i.settings.icon_2+'"><\/i>');r.attr("data-section",n);r.on("click",function(t){t.preventDefault();l(n)})}if(u=v[n],u.is_hidden===!0){r.addClass("hidden");return}r.css({left:u.left,top:u.top,width:u.width,height:u.height});r.removeClass("hidden");r.removeClass("help-section-small help-section-smaller");u.height<55||u.width<55?r.addClass("help-section-smaller"):(u.height<75||u.width<75)&&r.addClass("help-section-small")}}function y(){if(c){var n=c[0],r=n.scrollHeight<=n.clientHeight,i=!t.event.special.mousewheel?"mousewheel.ace.help DOMMouseScroll.ace.help":"mousewheel.ace.help";c.parent().off(i).on(i,function(t){if(r)t.preventDefault();else{t.deltaY=t.deltaY||0;var i=t.deltaY>0||t.originalEvent.detail<0||t.originalEvent.wheelDelta>0?1:-1;i==-1&&n.scrollTop+n.clientHeight>=n.scrollHeight?t.preventDefault():i==1&&n.scrollTop<=0&&t.preventDefault()}})}}function ft(){if(c){var n=parseInt(r.find(".modal-dialog").css("margin-top"));n=n+110+parseInt(n/2);ut=parseInt(t(window).innerHeight()-n+40);c.css({"max-height":ut})}}function l(n,e){var o,h;if(r==null){r=t('<div id="onpage-help-modal" class="modal onpage-help-modal" tabindex="-1" role="dialog" aria-labelledby="HelpModalDialog" aria-hidden="true">\t\t\t  <div class="modal-dialog modal-lg">\t\t\t\t<div class="modal-content">\t\t\t\t\t<div class="modal-header">\t\t\t\t\t  <div class="pull-right onpage-help-modal-buttons">\t\t\t\t\t\t<button aria-hidden="true" data-navdir="up" type="button" class="disabled btn btn-white btn-success btn-sm"><i class="ace-icon fa fa-level-up fa-flip-horizontal bigger-125 icon-only"><\/i><\/button>\t\t\t\t\t\t&nbsp;\t\t\t\t\t\t<button aria-hidden="true" data-navdir="back" type="button" class="disabled btn btn-white btn-info btn-sm"><i class="ace-icon fa fa-arrow-left icon-only"><\/i><\/button>\t\t\t\t\t\t<button aria-hidden="true" data-navdir="forward" type="button" class="disabled btn btn-white btn-info  btn-sm"><i class="ace-icon fa fa-arrow-right icon-only"><\/i><\/button>\t\t\t\t\t\t&nbsp;\t\t\t\t\t\t<button aria-hidden="true" data-dismiss="modal" class="btn btn-white btn-danger btn-sm" type="button"><i class="ace-icon fa fa-times icon-only"><\/i><\/button>\t\t\t\t\t  <\/div>\t\t\t\t\t  <h4 class="modal-title">Help Dialog<\/h4>\t\t\t\t\t<\/div>\t\t\t\t\t<div class="modal-body"><div class="onpage-help-content"><\/div><\/div>\t\t\t\t<\/div>\t\t\t  <\/div>\t\t\t<\/div>').appendTo("body");c=r.find(".modal-body");c.css({"overflow-y":"auto","overflow-x":"hidden"});r.css({overflow:"hidden"}).on("show.bs.modal",function(){tt()}).on("hidden.bs.modal",function(){nt()});r.find(".onpage-help-modal-buttons").on("click","button[data-navdir]",function(){var n=t(this).attr("data-navdir"),i,r;if(n=="back")s>0&&(s--,l(f[s],!1));else if(n=="forward")s<f.length-1&&(s++,l(f[s],!1));else if(n=="up"){if(i=t(this),i.hasClass("disabled")||!(r=i.attr("data-url")))return;l(r,!0)}})}if(r.hasClass("in")||(document.body.lastChild!=r[0]&&t(document.body).append(r),r.modal("show"),ft()),r.find(".modal-title").wrapInner("<span class='hidden' />").append('<i class="fa fa-spinner fa-spin blue bigger-125"><\/i>'),o=t(".onpage-help-content"),o.addClass("hidden"),t(document.body).removeClass("modal-open"),h=n.match(/file\:(.*?)\:(.+)/i),h&&h.length==3){ot(h[2],h[1],!1);return}n=n.replace(/^#/g,"");typeof i.settings.section_url=="function"&&(url=i.settings.section_url.call(u,n));t.ajax({url:url,dataType:"text"}).done(function(f){var c="",s="",b,h,d,tt,l,p,w;if(typeof i.settings.section_title=="function")c=i.settings.section_title.call(u,f,n,url);else for(b=function(n){return n.replace(/[\-\.\(\)\=\"\'\\\/]/g,function(n){return"\\"+n})},h=n;c.length==0;){var k='\\<([a-z][a-z0-9]*)(?:\\s+)(?:[^\\<\\>]+?)data\\-id\\=\\"\\#'+b(h)+'\\"(?:[^\\>]*)\\>([\\s\\S]*?)<\/\\1>',it=new RegExp(k,"im"),a=f.match(k);if(a&&a[2]){c=a[2];break}if((d=h.lastIndexOf("."))>-1)h=h.substr(0,d);else break}if(r.find(".modal-title").html(t.trim(c)||"&nbsp;"),typeof i.settings.section_content=="function")s=i.settings.section_content.call(u,f,n,url);else{var g="<!-- #section:"+n+" -->",v=f.indexOf(g),nt=f.indexOf("<!-- /section:"+n+" -->",v);if(v==-1||nt==-1){r.find(".modal-title").html("&nbsp;");return}s=f.substring(v+g.length+1,nt)}if(s=typeof i.settings.code_highlight=="function"?i.settings.code_highlight.call(u,s):s.replace(/\<pre((?:(?:.*?)(?:data\-language=["'](?:[\w\d]+)["'])(?:.*?))|(?:(?:.*?)(?:class=["'](?:.*?)language\-(?:[\w\d]+)(?:.*?)["'])(?:.*?)))\>([\s\S]+?)\<\/pre\>/ig,function(n,t,i){return"<pre"+t+">"+i.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"<\/pre>"}),typeof i.settings.img_url=="function"&&(s=s.replace(/\<img(?:(?:.*?)src=["']([^"']+)["'])/ig,function(n,t){var r=i.settings.img_url.call(u,t);return n.replace(t,r)})),o.empty().append(s),typeof i.settings.code_highlight=="function")i.settings.code_highlight.call(u,o);else if(i.settings.code_highlight==="rainbow")try{Rainbow.color(o[0])}catch(rt){}else if(i.settings.code_highlight==="prism")try{o.find('pre[class*="language-"],code[class*="language-"]').each(function(){Prism.highlightElement(this)})}catch(rt){}if(i.settings.add_panels){o.find(i.settings.panel_content_selector).each(function(){var n=t(this).prevAll(i.settings.panel_content_title);if(n.length==0)return!1;n=n.attr("class","panel-title").wrapInner('<a class="help-panel-toggle" href="#" data-parent="#" data-toggle="collapse" />').wrap('<div class="panel-heading" />').closest(".panel-heading");t(this).wrap('<div class="panel panel-default panel-help"><div class="panel-collapse collapse"><div class="panel-body"><\/div><\/div><\/div>');t(this).closest(".panel").prepend(n)});tt=t(".panel-group").length;o.find(".panel").each(function(){var n,i,r;t(this).parent().hasClass("panel-group")||(n="panel-group-help-"+ ++tt,i=t('<div class="panel-group" />').insertBefore(this),i.attr("id",n),r=0,i.siblings(".panel").appendTo(i),i.find(".help-panel-toggle").append('<i class="pull-right ace-icon fa fa-plus" data-icon-show="ace-icon fa fa-plus" data-icon-hide="ace-icon fa fa-minus"><\/i>').attr("data-parent","#"+n).each(function(){r++;t(this).attr("data-target","#"+n+"-"+r);t(this).closest(".panel-heading").siblings(".panel-collapse").attr("id",n+"-"+r)}))});t(document).off("click.help-panel-toggle",".help-panel-toggle").on("click.help-panel-toggle",".help-panel-toggle",function(n){n.preventDefault()})}if(o.removeClass("hidden"),l=o.find("img:visible"),l.length>0){p=0;l.off(".help_body_scroll").on("load.help_body_scroll error.help_body_scroll",function(){t(this).off(".help_body_scroll");p++;p>=l.length&&y()})}y();o.find(".panel > .panel-collapse").on("shown.bs.collapse hidden.bs.collapse",function(){y()});et(n,e);w=-1;(w=n.lastIndexOf("."))>-1?(n=n.substr(0,w),r.find("button[data-navdir=up]").removeClass("disabled").attr("data-url",n)):r.find("button[data-navdir=up]").addClass("disabled").removeAttr("data-url").blur()}).fail(function(){r.find(".modal-title").find(".fa-spin").remove().end().find(".hidden").children().unwrap()})}function et(n,t){t!==!1&&(f.length>0&&(f=f.slice(0,s+1)),f[f.length-1]!=n&&(f.push(n),s=f.length-1));s==0?r.find("button[data-navdir=back]").addClass("disabled").blur():r.find("button[data-navdir=back]").removeClass("disabled");s==f.length-1?r.find("button[data-navdir=forward]").addClass("disabled").blur():r.find("button[data-navdir=forward]").removeClass("disabled")}function ot(n,f,e){var o=n;typeof i.settings.file_url=="function"&&(n=i.settings.file_url.call(u,n,f));t.ajax({url:n,dataType:"text"}).done(function(n){et("file:"+f+":"+o,e);r.find("button[data-navdir=up]").addClass("disabled").blur();r.find(".modal-title").html(o).wrapInner("<code />");f!="json"?n=f!="css"?n.replace(/\n[\t]{1,}/g,function(n){return n.replace(/\t/g,"  ")}):n.replace(/\t/g,"  "):(f="javascript",n=JSON.stringify(JSON.parse(n),null,2));n=n.replace(/\>/g,"&gt;").replace(/\</g,"&lt;");var s=t(".onpage-help-content");if(s.removeClass("hidden").empty(),typeof i.settings.code_highlight=="function")n=i.settings.code_highlight.call(u,n,f),s.html(n);else if(i.settings.code_highlight==="rainbow")try{Rainbow.color(n,f,function(n){s.html(n).wrapInner('<pre data-language="'+f+'" />')})}catch(h){}else if(i.settings.code_highlight==="prism")try{n=Prism.highlight(n,Prism.languages[f],f);s.html(n).wrapInner('<pre class="language-'+f+'" />')}catch(h){}})}var t=window.jQuery||null,w;if(t!=null){n=n||{};w={include_all:!0,icon_1:"fa fa-question",icon_2:"fa fa-lightbulb-o",base:"",code_highlight:!window.Rainbow?!window.Prism?null:"prism":"rainbow",add_panels:!0,panel_content_selector:".info-section",panel_content_title:".info-title"};this.settings=t.extend({},w,n);var lt=this.settings.base,st=document.all&&!window.atob,e={},a={},v={},p=0,b=!1,h=!1,u=this,i=this,k="",o=null,d,g,nt=function(){if(o){var n=-1;t(document).off("focusin.ace.help").on("focusin.ace.help",function(i){o[0]==i.target||t.contains(o[0],i.target)||o.focus();i.target==document&&n>-1&&(t("body,html").scrollTop(n),n=-1)});t(window).on("blur.ace.help",function(){n=t(window).scrollTop()})}},tt=function(){t(document).off("focusin.ace.help");t(window).off("blur.ace.help")};this.toggle=function(){h?u.disable():u.enable()};this.enable=function(){h||(typeof i.settings.before_enable!="function"||i.settings.before_enable.call(u)!==!1)&&(h=!0,t(".onpage-help-backdrop, .onpage-help-section").removeClass("hidden"),k=document.body.style.overflowX,document.body.style.overflowX="hidden",it(),nt(),typeof i.settings.after_enable=="function"&&i.settings.after_enable.call(u))};this.disable=function(){h&&(typeof i.settings.before_disable=="function"&&i.settings.before_disable.call(u)||(h=!1,t(".onpage-help-backdrop, .onpage-help-section").addClass("hidden"),document.body.style.overflowX=k,tt(),typeof i.settings.after_disable=="function"&&i.settings.after_disable.call(u)))};this.is_active=function(){return h};this.show_section_help=function(n){l(n,!0)};this.init=function(){if(!b){o=t('<div class="onpage-help-container" id="onpage-help-container" tabindex="-1" />').appendTo("body");o.append('<div class="onpage-help-backdrop hidden" />');t(window).on("resize.onpage_help",function(){h&&(it(),r!=null&&r.hasClass("in")&&(ft(),y()))});b=!0}};this.init();this.update_sections=function(){rt(!0)};var f=[],s=-1,c=null,ut=0,r=null;t(document).on("click",'.onpage-help-modal a[href^="http"]',function(){t(this).attr("target","_blank")});t(document).on("click",".help-more",function(n){n.preventDefault();var i=t(this).attr("href");l(i)});t(document).on("click",".open-file[data-open-file]",function(){r.find(".modal-title").wrapInner("<span class='hidden' />").append('<i class="fa fa-spinner fa-spin blue bigger-125"><\/i>');t(".onpage-help-content").addClass("hidden");var n=t(this).attr("data-path")||t(this).text(),i=t(this).attr("data-open-file");ot(n,i,!0)})}};